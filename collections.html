<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Collections â€” Mahesh</title>

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./favicon/favicon-16x16.png"
    />
    
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.css"
    />
    <script
      src="https://kit.fontawesome.com/ae8ff12b97.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="./fonts.css" />

    <style>
         :root {
        --primary-padding: 5.2vw;
        --secondry-padding: 3em;
        --block-padding: 5em;
        --section-padding: 3.5em;

        --bg-primary: #efeded;
        --bg-secondary: #f9f8f9;
        --bg-tertiary: #fff;
        --bg-accent: #252425;

        --text-primary: #363636;
        --text-secondary: #282727;
        --text-accent: #f9f8f9;
        --text-heading: #252425;

        --border-primary: #dcdcdc;
        --border-secondary: #c0c0c0;
        --border-tertiary: #e0e0e0;
        --border-capsule: #f0f1ef;
        --border-capsule-hover: #bdbdbd;
      }

      /* Dark Mode Variables */
      body.dark-mode {
        --bg-primary: #121212;
        --bg-secondary: #1e1e1e;
        --bg-tertiary: #2a2a2a;
        --bg-accent: #f9f8f9;

        --text-primary: #b0b0b0;
        --text-secondary: #dcdcdc;
        --text-accent: #1e1e1e;
        --text-heading: #f9f8f9;

        --border-primary: #444444;
        --border-secondary: #555555;
        --border-tertiary: #333333;
        --border-capsule: #2a2a2a;
        --border-capsule-hover: #555;
      }
      
      * {
        padding: 0%;
        margin: 0%;
        box-sizing: border-box;
        font-family: "Ot-light", sans-serif;
      }

      html, body {
        width: 100%;
        min-height: 100vh;
        background-color: var(--bg-primary);
        color: var(--text-primary);
        transition: background-color 0.3s ease, color 0.3s ease;
      }
      
      /* Reusing key classes from main page */
      .magnetic-btn { display: inline-block; }
      .capsule {
        padding: 0.8em 1.5em;
        border-radius: 30px;
        border: 1px solid var(--border-secondary);
        background: transparent;
        color: var(--text-heading);
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 10px;
        transition: all 0.3s ease;
      }
      .capsule:hover {
          background-color: var(--bg-secondary);
          border-color: var(--text-heading);
      }

      /* Specific styles for the theme toggle to make it circular */
      .theme-toggle {
          padding: 0;
          width: 50px;
          height: 50px;
          border-radius: 50%;
          display: flex;
          justify-content: center;
          align-items: center;
          font-size: 1.2rem;
          flex-shrink: 0;
          border: 1px solid var(--border-secondary);
          color: var(--text-heading);
          background: transparent;
          cursor: pointer;
          transition: all 0.3s ease;
      }
      .theme-toggle:hover {
          background-color: var(--bg-secondary);
          transform: scale(1.05);
      }

      /* Collection Page Specifics */
      #collections-main {
          padding: var(--primary-padding);
          min-height: 100vh;
      }

      header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 3em;
          flex-wrap: wrap; /* Allows wrapping on mobile */
          gap: 20px;
      }
      
      h1 {
          font-size: 3em;
          color: var(--text-heading);
          font-family: "Ot-light", sans-serif;
          margin-right: auto; /* Pushes sibling to right */
      }

      /* Search Bar */
      .search-container {
          position: relative;
          flex: 1;
          max-width: 500px;
          margin: 0 20px;
      }

      .search-bar {
          width: 100%;
          padding: 1em 1.5em;
          padding-right: 3.5em;
          border-radius: 30px;
          border: 1px solid var(--border-secondary);
          background: rgba(255, 255, 255, 0.05); /* Subtle transparency */
          backdrop-filter: blur(5px);
          color: var(--text-heading);
          font-size: 1rem;
          outline: none;
          transition: all 0.3s ease;
          box-shadow: 0 4px 6px rgba(0,0,0,0.02);
      }

      .search-bar:focus {
          border-color: var(--text-heading);
          background-color: var(--bg-secondary);
          box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      }

      .search-icon-btn {
          position: absolute;
          right: 20px;
          top: 50%;
          transform: translateY(-50%);
          background: none;
          border: none;
          color: var(--text-primary);
          cursor: pointer;
          opacity: 0.6;
          transition: opacity 0.3s;
          font-size: 1.1em;
      }
      .search-icon-btn:hover { opacity: 1; }

      /* Sticky Category Nav */
      .collection-categories {
        position: sticky;
        top: 20px;
        background-color: rgba(239, 237, 237, 0.85);
        backdrop-filter: blur(15px);
        -webkit-backdrop-filter: blur(15px);
        z-index: 100;
        padding: 1.2em 0;
        margin-bottom: 3em;
        border-bottom: 1px solid var(--border-capsule);
        border-radius: 16px;
      }
      
      body.dark-mode .collection-categories {
          background-color: rgba(18, 18, 18, 0.85);
          border-color: var(--border-tertiary);
      }

      .categories-list {
        display: flex;
        gap: 2.5em;
        overflow-x: auto;
        padding: 0 1.5em;
        position: relative;
        justify-content: flex-start;
        align-items: center;
      }
      
      .categories-list::-webkit-scrollbar { display: none; }

      .collection-category-btn {
        background: none;
        border: none;
        font-size: 1.1em;
        color: var(--text-primary);
        cursor: pointer;
        padding: 0.5em 0;
        position: relative;
        white-space: nowrap;
        opacity: 0.5;
        transition: opacity 0.3s ease, color 0.3s ease;
        letter-spacing: 0.5px;
      }

      .collection-category-btn:hover { opacity: 1; }
      .collection-category-btn.active {
        opacity: 1;
        color: var(--text-heading);
        font-family: "Ot-medium", sans-serif;
        font-weight: 600;
      }

      .category-underline {
        position: absolute;
        bottom: 0;
        left: 0;
        height: 2px;
        background-color: var(--text-heading);
        transition: left 0.4s cubic-bezier(0.25, 1, 0.5, 1), width 0.4s cubic-bezier(0.25, 1, 0.5, 1);
        pointer-events: none;
      }

      /* === PINTEREST STYLE MASONRY LAYOUT === */
      .gallery-grid {
        column-count: 4;
        column-gap: 20px;
        width: 100%;
        min-height: 50vh;
      }

      .gallery-item {
        background-color: var(--bg-secondary);
        border-radius: 12px;
        overflow: hidden;
        position: relative;
        cursor: pointer;
        border: 0px solid var(--border-tertiary);
        margin-bottom: 20px;
        break-inside: avoid;
        opacity: 0;
        transition: transform 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
      }

      .gallery-item img {
        width: 100%;
        height: auto;
        display: block;
        transition: transform 0.7s ease;
      }

      .gallery-item:hover {
          transform: translateY(-5px);
          z-index: 2;
      }
      
      .gallery-item:hover img {
          transform: scale(1.08);
      }
      
      /* Overlay text on hover */
      .gallery-overlay {
          position: absolute;
          bottom: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.2) 40%, transparent 100%);
          opacity: 0;
          transition: opacity 0.3s ease;
          pointer-events: none;
      }
      
      .gallery-item:hover .gallery-overlay {
          opacity: 1;
      }

      .gallery-info {
          position: absolute;
          bottom: 15px;
          left: 15px;
          color: white;
          text-align: left;
          pointer-events: none;
      }

      .gallery-info span {
          font-size: 0.85em;
          display: block;
          text-transform: capitalize;
          font-weight: 500;
          letter-spacing: 0.5px;
      }

      /* Download Button */
      .download-btn {
          position: absolute;
          top: 15px;
          right: 15px;
          width: 35px;
          height: 35px;
          background: rgba(255, 255, 255, 0.95);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #000;
          font-size: 0.9em;
          border: none;
          cursor: pointer;
          opacity: 0;
          transform: translateY(-10px);
          transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
          pointer-events: auto;
          z-index: 10;
          box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      }

      .gallery-item:hover .download-btn {
          opacity: 1;
          transform: translateY(0);
      }

      .download-btn:hover {
          background: #fff;
          transform: scale(1.1);
      }

      /* Loading State */
      .loading-indicator {
          text-align: center;
          width: 100%;
          padding: 4em 0;
          color: var(--text-primary);
          font-size: 1.1em;
          display: none;
          opacity: 0.7;
          letter-spacing: 1px;
      }

      /* Footer Styles */
      .site-footer {
          margin-top: 6em;
          padding: 4em 0 2em 0;
          border-top: 1px solid var(--border-tertiary);
          text-align: center;
      }
      
      .footer-socials {
          display: flex;
          justify-content: center;
          gap: 25px;
          margin-bottom: 25px;
      }
      
      .footer-social-link {
          color: var(--text-primary);
          font-size: 1.4em;
          transition: all 0.3s ease;
          opacity: 0.7;
      }
      
      .footer-social-link:hover {
          opacity: 1;
          color: var(--text-heading);
          transform: translateY(-3px);
      }
      
      .footer-text {
          opacity: 0.6;
          font-size: 0.9em;
      }

      /* Custom Cursor elements */
      .custom-cursor {
        width: 20px;
        height: 20px;
        background-color: #fff;
        border-radius: 50%;
        position: fixed;
        pointer-events: none;
        z-index: 99999;
        mix-blend-mode: difference;
        display: none;
      }
      .custom-cursor-follower {
        width: 40px;
        height: 40px;
        background: transparent;
        border: 1px solid #fff;
        border-radius: 50%;
        position: fixed;
        pointer-events: none;
        z-index: 99998;
        mix-blend-mode: difference;
        display: none;
      }

      /* Responsive Layouts */
      @media (min-width: 768px) {
        .custom-cursor, .custom-cursor-follower { display: block; }
      }

      @media (max-width: 1200px) {
          .gallery-grid {
              column-count: 3;
          }
      }

      @media (max-width: 800px) {
          .gallery-grid {
              column-count: 2;
          }
          
          /* Refined Mobile Header Layout using Flexbox Wrap */
          header { 
              flex-wrap: wrap;
              gap: 15px;
          }

          /* Row 1: Title (Left) */
          h1 { 
              font-size: 2em; 
              width: auto;
              order: 1;
              margin-right: auto;
          }

          /* Row 1: Toggle (Right) */
          .theme-toggle {
              order: 2;
              /* Ensure it doesn't shrink */
              flex-shrink: 0;
          }

          /* Row 2: Search (Full Width) */
          .search-container { 
              width: 100%; 
              max-width: 100%; 
              margin: 5px 0 0 0; 
              order: 3;
          }

          .categories-list { justify-content: flex-start; }
      }
      
      @media (max-width: 480px) {
          .gallery-grid {
              column-count: 2;
              column-gap: 12px; /* Slightly reduced gap */
          }
          
          /* Adjust margins for very small screens */
          #collections-main {
             padding: 1.5em;
          }
          
          .gallery-item {
              margin-bottom: 12px;
          }
      }
    </style>
</head>
<body>

    <!-- Cursor -->
    <div class="custom-cursor"></div>
    <div class="custom-cursor-follower"></div>

    <div id="main" data-scroll-container>
        <div id="collections-main" data-scroll-section>
            <header>
                <h1>Collections</h1>
                
                <div class="search-container magnetic-btn">
                    <input type="text" id="searchInput" class="search-bar" placeholder="Search Unsplash...">
                    <button class="search-icon-btn" id="searchBtn">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                </div>

                <button class="capsule theme-toggle magnetic-btn">
                    <i class="fa-solid fa-moon"></i>
                </button>
            </header>

            <div class="collection-categories">
                <div class="categories-list">
                    <button class="collection-category-btn active" data-filter="all">All</button>
                    <button class="collection-category-btn" data-filter="anime">Anime</button>
                    <button class="collection-category-btn" data-filter="cyberpunk">Cyberpunk</button>
                    <button class="collection-category-btn" data-filter="dark">Dark</button>
                    <button class="collection-category-btn" data-filter="nature">Nature</button>
                    <button class="collection-category-btn" data-filter="3d">3D Renders</button>
                    <button class="collection-category-btn" data-filter="architecture">Architecture</button>
                    <button class="collection-category-btn" data-filter="minimal">Minimal</button>
                    <button class="collection-category-btn" data-filter="neon">Neon</button>
                    <button class="collection-category-btn" data-filter="space">Space</button>
                    <button class="collection-category-btn" data-filter="cars">Cars</button>
                    <button class="collection-category-btn" data-filter="street">Street</button>
                    <button class="collection-category-btn" data-filter="texture">Textures</button>
                    <button class="collection-category-btn" data-filter="tech">Technology</button>
                    <button class="collection-category-btn" data-filter="travel">Travel</button>
                    <button class="collection-category-btn" data-filter="animals">Animals</button>
                    <button class="collection-category-btn" data-filter="film">Film</button>
                    <button class="collection-category-btn" data-filter="abstract">Abstract</button>
                    <button class="collection-category-btn" data-filter="gradients">Gradients</button>
                    <button class="collection-category-btn" data-filter="people">People</button>
                    <div class="category-underline"></div>
                </div>
            </div>

            <div class="loading-indicator">Loading fresh images...</div>
            
            <!-- Gallery Grid -->
            <div class="gallery-grid" id="gallery-grid"></div>
            
            <footer class="site-footer">
                <div class="footer-socials">
                    <a href="#" class="footer-social-link magnetic-btn"><i class="fa-brands fa-instagram"></i></a>
                    <a href="#" class="footer-social-link magnetic-btn"><i class="fa-brands fa-twitter"></i></a>
                    <a href="#" class="footer-social-link magnetic-btn"><i class="fa-brands fa-dribbble"></i></a>
                    <a href="#" class="footer-social-link magnetic-btn"><i class="fa-brands fa-linkedin-in"></i></a>
                </div>
                <p class="footer-text">&copy; 2024 Mahesh Dongare. Powered by Unsplash API.</p>
            </footer>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.min.js"></script>

    <script>
        // ==========================================
        // CONFIGURATION: UNSPLASH API KEY
        // ==========================================
        // Get your key here: https://unsplash.com/developers
        const UNSPLASH_ACCESS_KEY = 'ASp9UTHFtknZ6yuf1ZCdRhegTTddxF8VGZNPYfQArz0'; 
        const IMAGES_PER_PAGE = 60; // Increased count for better variety

        // Query Mapping to ensure good results for simple categories
        const categoryQueries = {
            'all': 'editorial aesthetic',
            'anime': 'anime art aesthetic',
            'cyberpunk': 'cyberpunk neon city',
            'dark': 'dark moody aesthetic',
            'nature': 'nature landscape aesthetic',
            '3d': '3d abstract render',
            'architecture': 'modern architecture',
            'minimal': 'minimalist aesthetic',
            'neon': 'neon lights aesthetic',
            'space': 'outer space galaxy',
            'cars': 'supercars aesthetic',
            'street': 'street photography cinematic',
            'texture': 'abstract texture background',
            'tech': 'futuristic technology',
            'travel': 'travel wanderlust',
            'animals': 'wildlife artistic',
            'film': 'analog film photography',
            'abstract': 'abstract art',
            'gradients': 'colorful gradients mesh',
            'people': 'portrait photography fashion'
        };

        // 1. Theme Logic
        const themeBtn = document.querySelector(".theme-toggle");
        if (localStorage.getItem("theme") === "dark") {
            document.body.classList.add("dark-mode");
            updateIcon(true);
        } else {
            updateIcon(false);
        }

        themeBtn.addEventListener("click", () => {
            document.body.classList.toggle("dark-mode");
            const isDark = document.body.classList.contains("dark-mode");
            localStorage.setItem("theme", isDark ? "dark" : "light");
            updateIcon(isDark);
        });

        function updateIcon(isDark) {
            const icon = themeBtn.querySelector("i");
            if(isDark) {
                icon.classList.remove("fa-moon");
                icon.classList.add("fa-sun");
            } else {
                icon.classList.remove("fa-sun");
                icon.classList.add("fa-moon");
            }
        }

        // 2. Locomotive Scroll
        const scroll = new LocomotiveScroll({
            el: document.querySelector('#main'),
            smooth: true
        });

        // 3. Filter, Search & API Logic
        const categoryBtns = document.querySelectorAll(".collection-category-btn");
        const underline = document.querySelector(".category-underline");
        const galleryGrid = document.getElementById("gallery-grid");
        const loadingIndicator = document.querySelector(".loading-indicator");
        const searchInput = document.getElementById("searchInput");
        const searchBtn = document.getElementById("searchBtn");

        // Initial Load
        window.onload = () => {
            const active = document.querySelector(".collection-category-btn.active");
            moveUnderline(active);
            fetchUnsplashImages(categoryQueries['all']); 
        };

        // Category Click
        categoryBtns.forEach(btn => {
            btn.addEventListener("click", (e) => {
                categoryBtns.forEach(b => b.classList.remove("active"));
                e.target.classList.add("active");
                moveUnderline(e.target);
                
                const filter = e.target.getAttribute("data-filter");
                
                // Get specific query from map, or fallback to filter name
                let searchQuery = categoryQueries[filter] || filter;
                
                // Clear search bar
                searchInput.value = "";
                fetchUnsplashImages(searchQuery);
            });
        });

        // Search Functionality
        function handleSearch() {
            const query = searchInput.value.trim();
            if (query) {
                // Remove active class from categories to indicate custom search
                categoryBtns.forEach(b => b.classList.remove("active"));
                underline.style.width = "0"; 
                fetchUnsplashImages(query);
            }
        }

        searchBtn.addEventListener("click", handleSearch);
        searchInput.addEventListener("keypress", (e) => {
            if (e.key === "Enter") handleSearch();
        });

        function moveUnderline(target) {
            if(!target) return;
            const parent = target.parentElement;
            const targetRect = target.getBoundingClientRect();
            const parentRect = parent.getBoundingClientRect();
            
            // Adjust for scroll position of parent
            const scrollLeft = parent.scrollLeft;
            
            underline.style.width = `${targetRect.width}px`;
            underline.style.left = `${(targetRect.left - parentRect.left) + scrollLeft}px`;
        }

        // === UNSPLASH API FETCHING LOGIC ===
        async function fetchUnsplashImages(query) {
            loadingIndicator.style.display = "block";
            gsap.to(galleryGrid, {opacity: 0, duration: 0.3});

            try {
                // SWITCHED TO RANDOM ENDPOINT TO PREVENT REPETITION
                // Note: count max is 30.
                const response = await fetch(`https://api.unsplash.com/photos/random?query=${query}&count=${IMAGES_PER_PAGE}`, {
                    headers: {
                        Authorization: `Client-ID ${UNSPLASH_ACCESS_KEY}`
                    }
                });

                if (!response.ok) throw new Error('Failed to fetch');
                
                // Random endpoint returns an Array directly, not {results: []}
                const data = await response.json();
                
                renderImages(data);

            } catch (error) {
                console.error("Error fetching images:", error);
                
                // Fallback to standard search if Random fails (sometimes due to strict filters)
                try {
                     console.log("Random endpoint failed, trying fallback search...");
                     const fallbackResponse = await fetch(`https://api.unsplash.com/search/photos?query=${query}&per_page=${IMAGES_PER_PAGE}`, {
                        headers: { Authorization: `Client-ID ${UNSPLASH_ACCESS_KEY}` }
                     });
                     const fallbackData = await fallbackResponse.json();
                     renderImages(fallbackData.results);
                } catch (fallbackError) {
                     galleryGrid.innerHTML = `<p style="text-align:center; width:100%;">Error loading images. Please check your Unsplash Access Key.</p>`;
                     loadingIndicator.style.display = "none";
                     gsap.to(galleryGrid, {opacity: 1});
                }
            }
        }

        function renderImages(photos) {
            galleryGrid.innerHTML = "";
            let loadedCount = 0;
            
            if (!photos || photos.length === 0) {
                galleryGrid.innerHTML = `<p style="text-align:center; width:100%;">No images found.</p>`;
                loadingIndicator.style.display = "none";
                gsap.to(galleryGrid, {opacity: 1});
                return;
            }
            
            const totalImages = photos.length;

            photos.forEach(photo => {
                const item = document.createElement("div");
                item.className = "gallery-item";
                
                // Unsplash Data Mapping
                const displayUrl = photo.urls.regular; 
                const downloadUrl = photo.urls.full; // or .raw for max quality
                const photographer = photo.user.name;
                const altText = photo.alt_description || "Unsplash Image";

                item.innerHTML = `
                    <img src="${displayUrl}" alt="${altText}" loading="lazy">
                    <div class="gallery-overlay">
                        <button class="download-btn" onclick="downloadImage('${downloadUrl}', 'unsplash-${photo.id}.jpg')" title="Download Image">
                            <i class="fa-solid fa-download"></i>
                        </button>
                        <div class="gallery-info">
                            <span>${photographer}</span>
                        </div>
                    </div>
                `;

                const img = item.querySelector("img");
                img.onload = () => {
                    loadedCount++;
                    if (loadedCount === totalImages) finishLoading();
                };
                img.onerror = () => {
                    loadedCount++; 
                    if (loadedCount === totalImages) finishLoading();
                }

                galleryGrid.appendChild(item);
            });

            attachHoverEffects();
        }

        // Force Download Function
        async function downloadImage(url, filename) {
            try {
                const response = await fetch(url);
                const blob = await response.blob();
                const blobUrl = window.URL.createObjectURL(blob);
                
                const link = document.createElement('a');
                link.href = blobUrl;
                link.download = filename;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                window.URL.revokeObjectURL(blobUrl);
            } catch (e) {
                // Fallback if fetch fails (e.g., CORS issues on some browsers)
                window.open(url, '_blank');
            }
        }

        // Expose function globally for HTML onclick
        window.downloadImage = downloadImage;

        function finishLoading() {
            loadingIndicator.style.display = "none";
            gsap.to(galleryGrid, {opacity: 1, duration: 0.5});
            gsap.fromTo(".gallery-item", 
                { y: 50, opacity: 0 },
                { y: 0, opacity: 1, stagger: 0.05, duration: 0.5, ease: "power2.out" }
            );
            setTimeout(() => {
                scroll.update();
            }, 500);
        }

        // 4. Cursor Logic
        const cursor = document.querySelector(".custom-cursor");
        const follower = document.querySelector(".custom-cursor-follower");

        gsap.set(cursor, {xPercent: -50, yPercent: -50});
        gsap.set(follower, {xPercent: -50, yPercent: -50});

        window.addEventListener("mousemove", e => {
            gsap.to(cursor, {x: e.clientX, y: e.clientY, duration: 0.1});
            gsap.to(follower, {x: e.clientX, y: e.clientY, duration: 0.5});
        });
        
        function attachHoverEffects() {
            document.querySelectorAll("a, button, .gallery-item, input").forEach(el => {
                el.addEventListener("mouseenter", () => {
                    gsap.to(follower, {scale: 1.5, borderColor: "transparent", backgroundColor: "rgba(255,255,255,1)", mixBlendMode: "difference"});
                });
                el.addEventListener("mouseleave", () => {
                    gsap.to(follower, {scale: 1, borderColor: "#fff", backgroundColor: "transparent", mixBlendMode: "difference"});
                });
            });
        }
        
        attachHoverEffects();
        
        // 5. Magnetic Buttons
        document.querySelectorAll(".magnetic-btn").forEach(btn => {
            btn.addEventListener("mousemove", (e) => {
                const rect = btn.getBoundingClientRect();
                const x = e.clientX - (rect.left + rect.width / 2);
                const y = e.clientY - (rect.top + rect.height / 2);
                gsap.to(btn, {x: x * 0.5, y: y * 0.5, duration: 0.3});
            });
            btn.addEventListener("mouseleave", () => {
                gsap.to(btn, {x: 0, y: 0, duration: 0.5, ease: "elastic.out(1, 0.3)"});
            });
        });

        // Handle horizontal scroll for categories on mouse wheel
        const catList = document.querySelector('.categories-list');
        catList.addEventListener('wheel', (evt) => {
            evt.preventDefault();
            catList.scrollLeft += evt.deltaY;
        });

    </script>
</body>
</html>